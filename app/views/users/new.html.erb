<%= stylesheet_link_tag 'users', media: 'all' %>

<div class="user-form-container">
  <div class="header-container">
    
    <div class="header-center">
      <h2>Thêm Tài Khoản Mới</h2>
    </div>
  </div>

  <%= form_with(model: @user, local: true, class: 'user-form') do |f| %>
    <% if @user.errors.any? %>
      <div class="alert alert-danger">
        <h4><%= pluralize(@user.errors.count, "lỗi") %> đã xảy ra:</h4>
        <ul>
          <% @user.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="form-group">
      <%= f.label :username, "Tên đăng nhập" %>
      <%= f.text_field :username, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :email, "Email" %>
      <%= f.email_field :email, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :password_pidget, "Mật khẩu" %>
      <%= f.password_field :password_pidget, class: "form-control",
          data: { 
            toggle: "tooltip", 
            placement: "top", 
            title: "Mật khẩu phải có ít nhất 8 ký tự, 1 chữ in hoa và 1 ký tự đặc biệt" 
          } 
      %>
      <small class="form-text text-muted">
        Mật khẩu phải có ít nhất 8 ký tự, bao gồm:
        <ul class="password-hints">
          <li>Ít nhất 1 chữ in hoa</li>
          <li>Ít nhất 1 ký tự đặc biệt (!@#$%^&*)</li>
        </ul>
      </small>
    </div>

    <div class="form-group">
      <%= f.label :sdt, "Số điện thoại" %>
      <%= f.telephone_field :sdt, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :diachi, "Địa chỉ" %>
      <%= f.text_area :diachi, class: "form-control", rows: 3 %>
    </div>

    <%= f.hidden_field :loai_quyen, value: 'staff' %>

    <div class="form-actions">
      <%= f.submit "Thêm tài khoản", class: "btn btn-primary" %>
      <%= link_to "Hủy", users_path, class: "btn btn-secondary" %>
    </div>
  <% end %>
</div> 